---
title: ROS 2 Agnocast, Supporting Unsized Message Types for True Zero-Copy Publish/Subscribe IPC(2025)
author: Chaewon Kim
date: 2026-02-03
category: Paper
layout: post
---

**2월 3일 논문 발표**

### 참고 페이지
https://buly.kr/9BXC5DB

https://github.com/tier4/agnocast

https://roscon.ros.org/2025/

---

### 문제 정의

ComponentContainer 노드를 동일한 프로세스에 배치하면 zero copy 구현 완료 

하지만 fault isolation 문제 발생 

기존에 이미 true zero copy communication 이 존재햇지만 **static size message**만 다룸 

IceOryx단점
- Memory Pool 방식을 사용하기에, 데이터 크기가 미리 정해져 있어야함 
- 가변데이터는 잘 처리하지 못함 
- 유연했던 기존 코드를 하드코딩으로 배열 최대 크기 넣어서 수정해야함 
- => 데이터 크기 바뀔 때 마다 코드 수정 및 컴파일 필요 
- std::vector도 다 수정해야함 

기존의 기술들 

TZC
- custom message type으로 구현해야함
- 배열 크기를 미리 할당해야함 

LOT
- requires conversin to custom message formats
- imposes library-specific coding constraint
- 개발 overhead 높임
- 코드 유연성 해침 
- std::vector::push_back 사용못함 (근데 ros개발자는 이 문법 즐겨 씀)


이에 논문 저자는 ***Agnocast*** 라는 true zero-copy 프레임워크 제안 

- unsized message type도 지원
- ros2 표준(호환성) 해치지 않음
- 하드 코딩 없음 

사용법
- ROS2 pub/sub API 와 IPC 메세지를 위한 smart pointer type만 바꾸면 됨 

1. C++ 언어 환경과 IDL의 제약 규정 
2. LD_PRELOAD를 이용해서 heap 할당을 낚아채기 
3. Bridge를 통해 기존 노드와 Agnocast 노드 통신 지원


설계 요구사항 
1. True zero-copy with unsized message type
2. do not need to rebuild tools, library
3. apply only explicitly targeted paris of nodes

#### unsized type message definition
type  for which memoryreallocation can occur at arbitrary times

#### static-sized meesage type
memory size is determined at compile time 

